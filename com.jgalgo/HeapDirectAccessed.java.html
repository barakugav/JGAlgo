<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>HeapDirectAccessed.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">jgalgo</a> &gt; <a href="index.source.html" class="el_package">com.jgalgo</a> &gt; <span class="el_source">HeapDirectAccessed.java</span></div><h1>HeapDirectAccessed.java</h1><pre class="source lang-java linenums">package com.jgalgo;

import java.util.Comparator;
import java.util.Iterator;
import java.util.Set;

public interface HeapDirectAccessed&lt;E&gt; extends Heap&lt;E&gt; {

	/**
	 * Find the handle of an element in the heap
	 *
	 * @param e an element in the heap
	 * @return the handle of the element or null if the element is not in the heap
	 */
	default Handle&lt;E&gt; findHanlde(E e) {
<span class="fc" id="L16">		Comparator&lt;? super E&gt; c = comparator();</span>
<span class="pc bpc" id="L17" title="1 of 2 branches missed.">		if (c == null) {</span>
<span class="pc bpc" id="L18" title="1 of 2 branches missed.">			for (Handle&lt;E&gt; p : handles()) {</span>
<span class="fc bfc" id="L19" title="All 2 branches covered.">				if (Utils.cmpDefault(e, p.get()) == 0)</span>
<span class="fc" id="L20">					return p;</span>
<span class="pc" id="L21">			}</span>
		} else {
<span class="nc bnc" id="L23" title="All 2 branches missed.">			for (Handle&lt;E&gt; p : handles()) {</span>
<span class="nc bnc" id="L24" title="All 2 branches missed.">				if (c.compare(e, p.get()) == 0)</span>
<span class="nc" id="L25">					return p;</span>
<span class="nc" id="L26">			}</span>
		}
<span class="nc" id="L28">		return null;</span>
	}

	/**
	 * Find the handle of the minimal element in the heap
	 *
	 * @return handle of the minimal element
	 * @throws IllegalStateException if the heap is empty
	 */
	public Handle&lt;E&gt; findMinHandle();

	/**
	 * Decrease the key of an element in the heap
	 *
	 * @param handle handle of an inserted element
	 * @param e      new key
	 */
	public void decreaseKey(Handle&lt;E&gt; handle, E e);

	/**
	 * Remove an element from the heap by its handle
	 *
	 * @param handle handle of an inserted element
	 */
	public void removeHandle(Handle&lt;E&gt; handle);

	/**
	 * Get a collection view of the handles of the heap.
	 *
	 * @return view of all handles in the heap
	 */
	public Set&lt;Handle&lt;E&gt;&gt; handles();

	@Override
	default Iterator&lt;E&gt; iterator() {
<span class="fc" id="L63">		return new Iterator&lt;&gt;() {</span>
<span class="fc" id="L64">			final Iterator&lt;Handle&lt;E&gt;&gt; it = handles().iterator();</span>

			@Override
			public boolean hasNext() {
<span class="fc" id="L68">				return it.hasNext();</span>
			}

			@Override
			public E next() {
<span class="fc" id="L73">				return it.next().get();</span>
			}
		};
	}

	/**
	 * Object associated with an element in a heap. Allow specific operations to
	 * perform directly on the element without searching. Not supported by all
	 * implementations.
	 */
	public static interface Handle&lt;E&gt; {

		/**
		 * Get the element this handle is associated with
		 *
		 * @return the element value
		 */
		public E get();

	}

	@FunctionalInterface
	public static interface Builder extends Heap.Builder {
		@Override
		&lt;E&gt; HeapDirectAccessed&lt;E&gt; build(Comparator&lt;? super E&gt; cmp);

		@Override
		default &lt;E&gt; HeapDirectAccessed&lt;E&gt; build() {
<span class="fc" id="L101">			return build(null);</span>
		}
	}

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>